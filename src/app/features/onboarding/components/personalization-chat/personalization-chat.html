<!-- Demo Genie Fill in the Gaps Screen -->
<div
  class="min-h-screen bg-gradient-to-br from-blue-50 via-green-50 to-emerald-50 flex items-center justify-center p-5"
>
  <div class="main-container flex flex-col lg:flex-row gap-6 max-w-7xl w-full">
    <!-- Main Form Container -->
    <div
      class="form-container bg-white rounded-3xl shadow-2xl p-8 md:p-12 flex-1 relative overflow-hidden"
    >
      <!-- Top gradient border -->
      <div
        class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-green-400 via-blue-400 to-purple-400 rounded-t-3xl"
      ></div>

      <!-- Floating background elements -->
      <div
        class="floating-elements absolute inset-0 pointer-events-none overflow-hidden"
      >
        <div
          class="floating-element absolute w-5 h-5 bg-gradient-to-br from-green-400 to-blue-400 rounded-full opacity-10 top-1/4 left-1/4"
        ></div>
        <div
          class="floating-element absolute w-5 h-5 bg-gradient-to-br from-green-400 to-blue-400 rounded-full opacity-10 top-3/5 right-1/4"
        ></div>
        <div
          class="floating-element absolute w-5 h-5 bg-gradient-to-br from-green-400 to-blue-400 rounded-full opacity-10 bottom-1/4 left-1/5"
        ></div>
      </div>

      <!-- Progress Bar -->
      <div class="progress-section mb-8">
        <div class="flex justify-center items-center gap-3 mb-4">
          <div
            class="w-8 h-8 bg-gradient-to-br from-green-400 to-blue-400 rounded-full flex items-center justify-center text-white font-bold text-sm"
          >
            1
          </div>
          <div
            class="w-16 h-1 bg-gradient-to-r from-green-400 to-blue-400 rounded-full"
          ></div>
          <div
            class="w-8 h-8 bg-gradient-to-br from-green-400 to-blue-400 rounded-full flex items-center justify-center text-white font-bold text-sm"
          >
            2
          </div>
          <div class="w-16 h-1 bg-gray-200 rounded-full"></div>
          <div
            class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-gray-500 font-bold text-sm"
          >
            3
          </div>
          <div class="w-16 h-1 bg-gray-200 rounded-full"></div>
          <div
            class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-gray-500 font-bold text-sm"
          >
            4
          </div>
        </div>
      </div>

      <!-- Header Section -->
      <div class="header-section text-center mb-8">
        <h1 class="text-2xl md:text-2xl font-bold text-gray-800 mb-4">
          Step 2: Help Me Fill in the Gaps
        </h1>
        <p
          class="text-gray-600 text-base md:text-lg lg:text-xl leading-relaxed max-w-2xl mx-auto"
        >
          Let's make sure I understand your product perfectly. I'll ask a few
          quick questions so I can represent it the way you would.
        </p>
      </div>

      <!-- Form Section -->
      <div class="form-section space-y-5 mb-5">
        <!-- Question 1: Ideal Customer -->
        <div class="question-group">
          <label
            class="block text-gray-700 font-semibold mb-2 text-left text-base"
          >
            Who is your ideal customer?
          </label>
          <div class="input-wrapper relative">
            <input
              type="text"
              id="idealCustomer"
              placeholder="e.g., Small business owners, Enterprise companies, Freelancers..."
              class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all duration-300 text-gray-700 text-base bg-gray-50 hover:bg-white hover:border-green-300"
            />
            <button
              type="button"
              class="voice-btn absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-green-500 transition-colors duration-300 p-1.5 rounded-full hover:bg-green-50"
              title="Use voice input"
            >
              <svg
                class="w-4 h-4"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"
                ></path>
              </svg>
            </button>
          </div>
        </div>

        <!-- Question 2: Pricing Model -->
        <div class="question-group">
          <label
            class="block text-gray-700 font-semibold mb-2 text-left text-base"
          >
            What's your pricing model?
          </label>
          <div class="input-wrapper relative">
            <select
              id="pricingModel"
              class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all duration-300 text-gray-700 text-base appearance-none bg-gray-50 hover:bg-white hover:border-green-300"
            >
              <option value="" disabled selected>
                Select your pricing model
              </option>
              <option value="subscription">
                üí≥ Subscription (Monthly/Yearly)
              </option>
              <option value="one-time">üí∞ One-time Payment</option>
              <option value="freemium">üÜì Freemium (Free + Premium)</option>
              <option value="usage-based">üìä Usage-based Pricing</option>
              <option value="tiered">üèÜ Tiered Pricing</option>
            </select>
            <button
              type="button"
              class="voice-btn absolute right-10 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-green-500 transition-colors duration-300 p-1.5 rounded-full hover:bg-green-50"
              title="Use voice input"
            >
              <svg
                class="w-4 h-4"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"
                ></path>
              </svg>
            </button>
            <div
              class="absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"
            >
              <svg
                class="w-4 h-4 text-gray-400"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"
                ></path>
              </svg>
            </div>
          </div>
        </div>

        <!-- Question 3: Common Objections -->
        <div class="question-group">
          <label
            class="block text-gray-700 font-semibold mb-2 text-left text-base"
          >
            What objections do you frequently face?
          </label>
          <div class="input-wrapper relative">
            <textarea
              id="commonObjections"
              placeholder="e.g., Too expensive, Already have a solution, Need more features, Security concerns..."
              rows="1"
              class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent transition-all duration-300 text-gray-700 text-base resize-none bg-gray-50 hover:bg-white hover:border-green-300"
            ></textarea>
            <button
              type="button"
              class="voice-btn absolute right-3 top-3 text-gray-400 hover:text-green-500 transition-colors duration-300 p-1.5 rounded-full hover:bg-green-50"
              title="Use voice input"
            >
              <svg
                class="w-4 h-4"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"
                ></path>
              </svg>
            </button>
          </div>
        </div>
      </div>
      <!-- Compact Upload Section -->
      <div class="upload-section text-center mb-5">
        <div
          class="flex items-center justify-center gap-3 p-3 border border-dashed border-gray-300 rounded-xl hover:border-green-400 transition-all duration-300 hover:bg-green-50"
        >
          <svg
            class="w-5 h-5 text-gray-400"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
            ></path>
          </svg>
          <button
            type="button"
            class="upload-btn text-gray-600 hover:text-green-600 font-medium text-sm"
            onclick="handleUpload()"
          >
            Upload FAQs or Custom Notes
          </button>
          <span class="text-gray-400 text-xs">(Optional)</span>
        </div>
      </div>

      <!-- Action Buttons -->
      <div
        class="action-buttons flex flex-col sm:flex-row gap-4 justify-center items-center"
      >
        <button
          type="button"
          class="demo-btn bg-gradient-to-r from-green-400 to-blue-500 text-white font-semibold px-12 py-4 rounded-full text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 relative overflow-hidden"
          (click)="handleSeeDemo()"
          [disabled]="!isFormValid()"
        >
          <span class="relative z-10">üöÄ Let's See the Demo</span>
          <div
            class="btn-shine absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white to-transparent opacity-0 hover:opacity-20 transition-opacity duration-300 transform -skew-x-12"
          ></div>
        </button>

        <button
          type="button"
          class="back-btn text-gray-600 hover:text-gray-800 font-medium px-6 py-3 rounded-full hover:bg-gray-100 transition-all duration-300"
          (click)="handleGoBack()"
        >
          ‚Üê Back to Step 1
        </button>
      </div>

      <!-- Step Indicator -->
      <div class="text-center mt-6">
        <span class="text-sm text-gray-500">Step 2 of 4</span>
      </div>
    </div>

    <!-- Learning Summary Card -->
    <div
      class="learning-card bg-white rounded-3xl shadow-2xl p-8 max-w-sm w-full relative overflow-hidden"
    >
      <!-- Top gradient border -->
      <div
        class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-400 via-pink-400 to-red-400 rounded-t-3xl"
      ></div>

      <!-- AI Icon -->
      <div class="ai-icon text-center mb-6">
        <div
          class="w-16 h-16 bg-gradient-to-br from-purple-400 to-pink-400 rounded-2xl flex items-center justify-center text-3xl shadow-lg mx-auto"
        >
          ü§ñ
        </div>
      </div>

      <h3 class="text-xl font-bold text-gray-800 mb-6 text-center">
        What I've Learned So Far
      </h3>

      <div class="learning-items space-y-6">
        <div
          class="learning-item p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-xl border-l-4 border-green-400"
          *ngIf="learnedData.idealCustomer"
        >
          <div class="flex items-start gap-3">
            <div
              class="w-6 h-6 bg-green-400 rounded-full flex items-center justify-center text-white text-xs font-bold mt-1"
            >
              üë•
            </div>
            <div>
              <span class="text-sm font-semibold text-gray-700 block"
                >Ideal Customer</span
              >
              <span class="text-sm text-gray-600">{{
                learnedData.idealCustomer
              }}</span>
            </div>
          </div>
        </div>

        <div
          class="learning-item p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border-l-4 border-blue-400"
          *ngIf="learnedData.pricingModel"
        >
          <div class="flex items-start gap-3">
            <div
              class="w-6 h-6 bg-blue-400 rounded-full flex items-center justify-center text-white text-xs font-bold mt-1"
            >
              üí∞
            </div>
            <div>
              <span class="text-sm font-semibold text-gray-700 block"
                >Pricing Model</span
              >
              <span class="text-sm text-gray-600">{{
                learnedData.pricingModel
              }}</span>
            </div>
          </div>
        </div>

        <div
          class="learning-item p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border-l-4 border-purple-400"
          *ngIf="learnedData.commonObjections"
        >
          <div class="flex items-start gap-3">
            <div
              class="w-6 h-6 bg-purple-400 rounded-full flex items-center justify-center text-white text-xs font-bold mt-1"
            >
              ‚ö°
            </div>
            <div>
              <span class="text-sm font-semibold text-gray-700 block"
                >Common Objections</span
              >
              <span class="text-sm text-gray-600">{{
                learnedData.commonObjections
              }}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Confidence Meter -->
      <div class="confidence-meter mt-8 p-4 bg-gray-50 rounded-xl">
        <div class="flex justify-between items-center mb-2">
          <span class="text-sm font-medium text-gray-700">AI Confidence</span>
          <span class="text-sm font-bold text-green-600"
            >{{ getConfidenceLevel() }}%</span
          >
        </div>
        <div class="w-full bg-gray-200 rounded-full h-2">
          <div
            class="bg-gradient-to-r from-green-400 to-blue-500 h-2 rounded-full transition-all duration-500"
            [style.width.%]="getConfidenceLevel()"
          ></div>
        </div>
        <p class="text-xs text-gray-500 mt-2">
          Complete more fields to improve demo accuracy
        </p>
      </div>
    </div>
  </div>
</div>
